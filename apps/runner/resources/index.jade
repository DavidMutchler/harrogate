extends ../../../shared/client/views/templates/app-view-layout.jade

block view-toolbar-left
  .btn-group
     button.btn.btn-default.btn-toolbar(type='button' ng-class='{disabled: !selected_project}' ng-click='run()')
        i.fa.fa-play
        br
        small.small Run
     button.btn.btn-default.btn-toolbar(type='button' ng-class='{disabled: !ProgramService.running}' ng-click='stop()')
        i.fa.fa-stop
        br
        small.small Stop
        
  .btn-group(ng-if='selected_project')
     a.btn.btn-default.btn-toolbar(type='button' href='/#/apps/kiss?project={{selected_project.name}}')
        i.fa.fa-file-code-o
        br
        small.small Edit {{selected_project.name}}
        
  .btn-group
     a.btn.btn-default.btn-toolbar(type='button' href='/#/apps/kiss')
        i.fa.fa-file-code-o
        br
        small.small KISS IDE

block view-content
  .row.row-stretch
    .col-xs-3.col-stretch
      .panel.panel-default.panel-stretch
        .panel-heading
          .panel-title Projects:
        .scrollable-panel-body-container
          table.panel-body.table.tree-table
            tbody
              tr(ng-repeat = "project in ws.projects" ng-class='{info: selected_project === project}' ng-click='select_project(project)')
                th
                th {{project.name}}

    .col-xs-9.col-stretch
      tabset.tabset-stretch(type='pills')
        tab(heading='Console')
          terminal.terminal-stretch(output-event="runner-program-output" input-event="runner-program-input" reset-event="runner-reset-terminal")

        tab(heading='Graphics Window' select='select_graphics_window()' deselect='deselect_graphics_window()')
          .embed-responsive.embed-responsive-16by9
            img.embed-responsive-item#graphics_window(ng-src="{{img_src}}"
              ng-mousemove="gui_mousemove($event)"
              ng-mousedown="gui_mousedown($event)"
              ng-mouseup="gui_mouseup($event)"
              oncontextmenu="return false;"
              set-focus="graphics_window_focus"
              tabindex="0")
